{"remainingRequest":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/babel-loader/lib/index.js!/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/src/views/Home.vue","mtime":1614608124955},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvdGludGluLndpaGxib3JnL0RvY3VtZW50cy9Qcm9qZWN0cy9ncm93cGlwZXMtYXBsL0dyb3dwaXBlcy1hcGwvZnJvbnRlbmQvcm91dGVyX3Rlc3Qvcm91dGVyLXRlc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90aW50aW4ud2lobGJvcmcvRG9jdW1lbnRzL1Byb2plY3RzL2dyb3dwaXBlcy1hcGwvR3Jvd3BpcGVzLWFwbC9mcm9udGVuZC9yb3V0ZXJfdGVzdC9yb3V0ZXItdGVzdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgU2Vuc29yIGZyb20gJy4uL2NvbXBvbmVudHMvU2Vuc29yLnZ1ZSc7CmltcG9ydCBTZW5zb3JHcmFwaCBmcm9tICcuLi9jb21wb25lbnRzL1NlbnNvckdyYXBoLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbnNvcnM6IHt9LAogICAgICBzaG93X2dyYXBoOiB7CiAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgIGlkOiBOdW1iZXIsCiAgICAgICAgdHlwZTogU3RyaW5nCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBTZW5zb3I6IFNlbnNvciwKICAgIFNlbnNvckdyYXBoOiBTZW5zb3JHcmFwaAogIH0sCiAgbWV0aG9kczogewogICAgZ2V0c2Vuc29yczogZnVuY3Rpb24gZ2V0c2Vuc29ycygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjQ1NjcvJywgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgICBtb2RlOiAnY29ycycKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKF90aGlzLnNlbnNvcnMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgdmFsdWVbMF0sIHsKICAgICAgICAgICAgICAgICAgICBpZDogdmFsdWVbMF0sCiAgICAgICAgICAgICAgICAgICAgdHlwZTogdmFsdWVbMV0sCiAgICAgICAgICAgICAgICAgICAgZGF0YTogdmFsdWVbMl0KICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlc2Vuc29yKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVzZW5zb3I6IGZ1bmN0aW9uIHVwZGF0ZXNlbnNvcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo0NTY3LycsIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgICAgICAgbW9kZTogJ2NvcnMnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5zdGF0dXMgPT0gNTAyKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudXBkYXRlc2Vuc29yKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3RhdHVzICE9IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzVGV4dCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi51cGRhdGVzZW5zb3IoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChzZW5zb3IpIHsKICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihfdGhpczIuc2Vuc29yc1tzZW5zb3JbMF1dLCB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IHNlbnNvclswXSwKICAgICAgICAgICAgICAgICAgICBkYXRhOiBzZW5zb3JbMl0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnVwZGF0ZXNlbnNvcigpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdGVzdDI6IGZ1bmN0aW9uIHRlc3QyKGlkKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2Vuc29yc1tpZF0pOwogICAgICB0aGlzLnNob3dfZ3JhcGguc3RhdGUgPSB0cnVlOwogICAgICB0aGlzLnNob3dfZ3JhcGguaWQgPSBpZDsKICAgICAgdGhpcy5zaG93X2dyYXBoLnR5cGUgPSB0aGlzLnNlbnNvcnNbaWRdLnR5cGU7CiAgICB9CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmdldHNlbnNvcnMoKTsKICB9Cn07"},{"version":3,"sources":["/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/src/views/Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"home\">\n    <h1>Homepage</h1>\n    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Rem eius, maxime soluta, unde libero alias beatae tempora dolores debitis omnis delectus. At, sed qui? Itaque ut eligendi adipisci numquam a?</p>\n    <Sensor v-for=\"Sensor in sensors\" :key=\"Sensor.id\" :id=\"Sensor.id\" :data=\"Sensor.data\" :type=\"Sensor.type\" v-on:click=\"test2(Sensor.id)\"/>\n    <div class=\"graphholder\">\n      <SensorGraph v-if=\"show_graph.state\" :key=\"show_graph.id\" :id=\"show_graph.id\" :type=\"show_graph.type\"/>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport Sensor from '../components/Sensor.vue'\nimport SensorGraph from '../components/SensorGraph.vue'\n\n\nexport default {\n  name: 'Home',\n  data() {\n    return{\n      sensors: {},\n      show_graph: {state: false, id: Number, type: String}\n    }\n  },\n  components: {\n    Sensor,\n    SensorGraph\n  },\n  methods: {\n    async getsensors(){\n      \n      const response = await fetch('http://localhost:4567/',{\n        method: 'GET',\n        mode: 'cors'\n        \n      })\n      let data =(await response.json())    \n  \n      data.forEach(value => {\n        Object.assign(this.sensors, {[value[0]]: {id: value[0], type: value[1], data: value[2]}})\n      })\n      this.updatesensor()\n    },\n    async updatesensor(){\n      let response = await fetch('http://localhost:4567/',{\n        method: 'GET',\n        mode: 'cors'\n      })\n\n      if (response.status == 502) {\n        await this.updatesensor()\n      } else if (response.status != 200) {\n\n        console.log(response.statusText)\n        await new Promise(resolve =>  setTimeout(resolve, 1000))\n        await this.updatesensor()\n\n      } else {\n        let data = (await response.json())\n        \n        data.forEach(sensor => { \n          Object.assign(this.sensors[sensor[0]], {id: sensor[0], data: sensor[2]})\n        })\n        \n        await this.updatesensor()\n      }\n    },\n    test2(id){\n      console.log(this.sensors[id])\n      this.show_graph.state = true\n      this.show_graph.id = id\n      this.show_graph.type = this.sensors[id].type\n    }\n  },\n  beforeMount(){\n    this.getsensors()\n  }\n}\n</script>\n\n<style scoped>\n\n  .graphholder{\n    position: absolute;\n    top: 50% - 200px;\n    left: 40%;\n  }\n\n</style>\n"],"sourceRoot":""}]}