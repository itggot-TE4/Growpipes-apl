{"remainingRequest":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/babel-loader/lib/index.js!/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/src/views/Home.vue?vue&type=template&id=fae5bece&scoped=true","dependencies":[{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/src/views/Home.vue","mtime":1614608124955},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi1mYWU1YmVjZSIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtZmFlNWJlY2UiKTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiaG9tZSIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaDEiLCBudWxsLCAiSG9tZXBhZ2UiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInAiLCBudWxsLCAiTG9yZW0gaXBzdW0gZG9sb3IsIHNpdCBhbWV0IGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIFJlbSBlaXVzLCBtYXhpbWUgc29sdXRhLCB1bmRlIGxpYmVybyBhbGlhcyBiZWF0YWUgdGVtcG9yYSBkb2xvcmVzIGRlYml0aXMgb21uaXMgZGVsZWN0dXMuIEF0LCBzZWQgcXVpPyBJdGFxdWUgdXQgZWxpZ2VuZGkgYWRpcGlzY2kgbnVtcXVhbSBhPyIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAiZ3JhcGhob2xkZXIiCn07CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfU2Vuc29yID0gX3Jlc29sdmVDb21wb25lbnQoIlNlbnNvciIpOwoKICB2YXIgX2NvbXBvbmVudF9TZW5zb3JHcmFwaCA9IF9yZXNvbHZlQ29tcG9uZW50KCJTZW5zb3JHcmFwaCIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfaG9pc3RlZF8yLCBfaG9pc3RlZF8zLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuc2Vuc29ycywgZnVuY3Rpb24gKFNlbnNvcikgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfU2Vuc29yLCB7CiAgICAgIGtleTogU2Vuc29yLmlkLAogICAgICBpZDogU2Vuc29yLmlkLAogICAgICBkYXRhOiBTZW5zb3IuZGF0YSwKICAgICAgdHlwZTogU2Vuc29yLnR5cGUsCiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICRvcHRpb25zLnRlc3QyKFNlbnNvci5pZCk7CiAgICAgIH0KICAgIH0sIG51bGwsIDgKICAgIC8qIFBST1BTICovCiAgICAsIFsiaWQiLCAiZGF0YSIsICJ0eXBlIiwgIm9uQ2xpY2siXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgWyRkYXRhLnNob3dfZ3JhcGguc3RhdGUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9TZW5zb3JHcmFwaCwgewogICAga2V5OiAkZGF0YS5zaG93X2dyYXBoLmlkLAogICAgaWQ6ICRkYXRhLnNob3dfZ3JhcGguaWQsCiAgICB0eXBlOiAkZGF0YS5zaG93X2dyYXBoLnR5cGUKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsiaWQiLCAidHlwZSJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKV0pOwp9KTs="},{"version":3,"sources":["/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/src/views/Home.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAiB,IAAjB,EAAiB,IAAjB,EAAI,UAAJ,EAAY,CAAA;AAAA;AAAZ,C;;8BACA,YAAA,CAA8M,GAA9M,EAA8M,IAA9M,EAAG,yMAAH,EAA0M,CAAA;AAAA;AAA1M,C;;;AAEK,EAAA,KAAK,EAAC;;;;;;;;;;uBAJb,YAAA,CAOM,KAPN,EAAA,UAAA,EAOM,CANJ,UAMI,EALJ,UAKI,G,kBAJJ,YAAA,CAA0I,SAA1I,EAA0I,IAA1I,EAA0I,WAAA,CAAjH,KAAA,CAAA,OAAiH,EAA1G,UAAjB,MAAiB,EAAX;yBAArB,YAAA,CAA0I,iBAA1I,EAA0I;AAAvG,MAAA,GAAG,EAAE,MAAM,CAAC,EAA2F;AAAtF,MAAA,EAAE,EAAE,MAAM,CAAC,EAA2E;AAAtE,MAAA,IAAI,EAAE,MAAM,CAAC,IAAyD;AAAlD,MAAA,IAAI,EAAE,MAAM,CAAC,IAAqC;AAA1B,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAE,QAAA,CAAA,KAAA,CAAM,MAAM,CAAC,EAAb,CAAF;AAAA;AAAqB,KAA1I,E,IAAA,E;;AAAA,M,iCAAA,C;GAA0I,CAA1I,E;;AAAA,GAII,GAHJ,YAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADe,KAAA,CAAA,UAAA,CAAW,K,kBAA9B,YAAA,CAAuG,sBAAvG,EAAuG;AAAjE,IAAA,GAAG,EAAE,KAAA,CAAA,UAAA,CAAW,EAAiD;AAA5C,IAAA,EAAE,EAAE,KAAA,CAAA,UAAA,CAAW,EAA6B;AAAxB,IAAA,IAAI,EAAE,KAAA,CAAA,UAAA,CAAW;AAAO,GAAvG,E,IAAA,E;;AAAA,I,cAAA,C,qCACI,CAFN,CAGI,CAPN,C","sourcesContent":["<template>\n  <div class=\"home\">\n    <h1>Homepage</h1>\n    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Rem eius, maxime soluta, unde libero alias beatae tempora dolores debitis omnis delectus. At, sed qui? Itaque ut eligendi adipisci numquam a?</p>\n    <Sensor v-for=\"Sensor in sensors\" :key=\"Sensor.id\" :id=\"Sensor.id\" :data=\"Sensor.data\" :type=\"Sensor.type\" v-on:click=\"test2(Sensor.id)\"/>\n    <div class=\"graphholder\">\n      <SensorGraph v-if=\"show_graph.state\" :key=\"show_graph.id\" :id=\"show_graph.id\" :type=\"show_graph.type\"/>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport Sensor from '../components/Sensor.vue'\nimport SensorGraph from '../components/SensorGraph.vue'\n\n\nexport default {\n  name: 'Home',\n  data() {\n    return{\n      sensors: {},\n      show_graph: {state: false, id: Number, type: String}\n    }\n  },\n  components: {\n    Sensor,\n    SensorGraph\n  },\n  methods: {\n    async getsensors(){\n      \n      const response = await fetch('http://localhost:4567/',{\n        method: 'GET',\n        mode: 'cors'\n        \n      })\n      let data =(await response.json())    \n  \n      data.forEach(value => {\n        Object.assign(this.sensors, {[value[0]]: {id: value[0], type: value[1], data: value[2]}})\n      })\n      this.updatesensor()\n    },\n    async updatesensor(){\n      let response = await fetch('http://localhost:4567/',{\n        method: 'GET',\n        mode: 'cors'\n      })\n\n      if (response.status == 502) {\n        await this.updatesensor()\n      } else if (response.status != 200) {\n\n        console.log(response.statusText)\n        await new Promise(resolve =>  setTimeout(resolve, 1000))\n        await this.updatesensor()\n\n      } else {\n        let data = (await response.json())\n        \n        data.forEach(sensor => { \n          Object.assign(this.sensors[sensor[0]], {id: sensor[0], data: sensor[2]})\n        })\n        \n        await this.updatesensor()\n      }\n    },\n    test2(id){\n      console.log(this.sensors[id])\n      this.show_graph.state = true\n      this.show_graph.id = id\n      this.show_graph.type = this.sensors[id].type\n    }\n  },\n  beforeMount(){\n    this.getsensors()\n  }\n}\n</script>\n\n<style scoped>\n\n  .graphholder{\n    position: absolute;\n    top: 50% - 200px;\n    left: 40%;\n  }\n\n</style>\n"],"sourceRoot":""}]}