{"remainingRequest":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/src/views/Home.vue","mtime":1614608124955},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgppbXBvcnQgU2Vuc29yIGZyb20gJy4uL2NvbXBvbmVudHMvU2Vuc29yLnZ1ZScKaW1wb3J0IFNlbnNvckdyYXBoIGZyb20gJy4uL2NvbXBvbmVudHMvU2Vuc29yR3JhcGgudnVlJwoKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZScsCiAgZGF0YSgpIHsKICAgIHJldHVybnsKICAgICAgc2Vuc29yczoge30sCiAgICAgIHNob3dfZ3JhcGg6IHtzdGF0ZTogZmFsc2UsIGlkOiBOdW1iZXIsIHR5cGU6IFN0cmluZ30KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFNlbnNvciwKICAgIFNlbnNvckdyYXBoCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRzZW5zb3JzKCl7CiAgICAgIAogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjQ1NjcvJyx7CiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICBtb2RlOiAnY29ycycKICAgICAgICAKICAgICAgfSkKICAgICAgbGV0IGRhdGEgPShhd2FpdCByZXNwb25zZS5qc29uKCkpICAgIAogIAogICAgICBkYXRhLmZvckVhY2godmFsdWUgPT4gewogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5zZW5zb3JzLCB7W3ZhbHVlWzBdXToge2lkOiB2YWx1ZVswXSwgdHlwZTogdmFsdWVbMV0sIGRhdGE6IHZhbHVlWzJdfX0pCiAgICAgIH0pCiAgICAgIHRoaXMudXBkYXRlc2Vuc29yKCkKICAgIH0sCiAgICBhc3luYyB1cGRhdGVzZW5zb3IoKXsKICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6NDU2Ny8nLHsKICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgIG1vZGU6ICdjb3JzJwogICAgICB9KQoKICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSA1MDIpIHsKICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZXNlbnNvcigpCiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzICE9IDIwMCkgewoKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXNUZXh0KQogICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gIHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpCiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVzZW5zb3IoKQoKICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgZGF0YSA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpCiAgICAgICAgCiAgICAgICAgZGF0YS5mb3JFYWNoKHNlbnNvciA9PiB7IAogICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnNlbnNvcnNbc2Vuc29yWzBdXSwge2lkOiBzZW5zb3JbMF0sIGRhdGE6IHNlbnNvclsyXX0pCiAgICAgICAgfSkKICAgICAgICAKICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZXNlbnNvcigpCiAgICAgIH0KICAgIH0sCiAgICB0ZXN0MihpZCl7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2Vuc29yc1tpZF0pCiAgICAgIHRoaXMuc2hvd19ncmFwaC5zdGF0ZSA9IHRydWUKICAgICAgdGhpcy5zaG93X2dyYXBoLmlkID0gaWQKICAgICAgdGhpcy5zaG93X2dyYXBoLnR5cGUgPSB0aGlzLnNlbnNvcnNbaWRdLnR5cGUKICAgIH0KICB9LAogIGJlZm9yZU1vdW50KCl7CiAgICB0aGlzLmdldHNlbnNvcnMoKQogIH0KfQo="},{"version":3,"sources":["/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/src/views/Home.vue"],"names":[],"mappings":"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","file":"/Users/tintin.wihlborg/Documents/Projects/growpipes-apl/Growpipes-apl/frontend/router_test/router-test/src/views/Home.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"home\">\n    <h1>Homepage</h1>\n    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Rem eius, maxime soluta, unde libero alias beatae tempora dolores debitis omnis delectus. At, sed qui? Itaque ut eligendi adipisci numquam a?</p>\n    <Sensor v-for=\"Sensor in sensors\" :key=\"Sensor.id\" :id=\"Sensor.id\" :data=\"Sensor.data\" :type=\"Sensor.type\" v-on:click=\"test2(Sensor.id)\"/>\n    <div class=\"graphholder\">\n      <SensorGraph v-if=\"show_graph.state\" :key=\"show_graph.id\" :id=\"show_graph.id\" :type=\"show_graph.type\"/>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport Sensor from '../components/Sensor.vue'\nimport SensorGraph from '../components/SensorGraph.vue'\n\n\nexport default {\n  name: 'Home',\n  data() {\n    return{\n      sensors: {},\n      show_graph: {state: false, id: Number, type: String}\n    }\n  },\n  components: {\n    Sensor,\n    SensorGraph\n  },\n  methods: {\n    async getsensors(){\n      \n      const response = await fetch('http://localhost:4567/',{\n        method: 'GET',\n        mode: 'cors'\n        \n      })\n      let data =(await response.json())    \n  \n      data.forEach(value => {\n        Object.assign(this.sensors, {[value[0]]: {id: value[0], type: value[1], data: value[2]}})\n      })\n      this.updatesensor()\n    },\n    async updatesensor(){\n      let response = await fetch('http://localhost:4567/',{\n        method: 'GET',\n        mode: 'cors'\n      })\n\n      if (response.status == 502) {\n        await this.updatesensor()\n      } else if (response.status != 200) {\n\n        console.log(response.statusText)\n        await new Promise(resolve =>  setTimeout(resolve, 1000))\n        await this.updatesensor()\n\n      } else {\n        let data = (await response.json())\n        \n        data.forEach(sensor => { \n          Object.assign(this.sensors[sensor[0]], {id: sensor[0], data: sensor[2]})\n        })\n        \n        await this.updatesensor()\n      }\n    },\n    test2(id){\n      console.log(this.sensors[id])\n      this.show_graph.state = true\n      this.show_graph.id = id\n      this.show_graph.type = this.sensors[id].type\n    }\n  },\n  beforeMount(){\n    this.getsensors()\n  }\n}\n</script>\n\n<style scoped>\n\n  .graphholder{\n    position: absolute;\n    top: 50% - 200px;\n    left: 40%;\n  }\n\n</style>\n"]}]}